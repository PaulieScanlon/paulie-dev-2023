---
const { data } = Astro.props;

const listData = data.sort((a, b) => b.total - a.total).slice(0, 10);
---

<ul class='m-0 border rounded border-brand-outline bg-brand-surface px-4 sm:py-2'>
  {
    listData.map((item) => {
      const { flag, city, total } = item;

      return (
        <li class='flex border-b border-b-transparent [&:not(:last-child)]:border-b-brand-outline p-0'>
          <div class='flex grow items-center gap-2'>
            <span class='mt-1'>{flag}</span>
            <span>{city}</span>
          </div>
          <strong>{`x${total}`}</strong>
        </li>
      );
    })
  }
</ul>
